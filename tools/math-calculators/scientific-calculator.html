<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scientific Calculator - Multi-Tools Hub</title>
    <meta name="description" content="Advanced scientific calculator online for free. Perform complex mathematical calculations with ease.">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../../assets/css/style.css" rel="stylesheet">
    <style>
        .calculator {
            background-color: #2c3e50;
            border-radius: 0.375rem;
            padding: 1rem;
            color: white;
        }
        .calculator-display {
            background-color: #34495e;
            border: 2px solid #4a6741;
            border-radius: 0.375rem;
            padding: 1rem;
            margin-bottom: 1rem;
            text-align: right;
            font-size: 1.5rem;
            font-family: 'Courier New', monospace;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
        }
        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 0.5rem;
        }
        .calc-btn {
            background-color: #34495e;
            border: 1px solid #4a6741;
            color: white;
            padding: 1rem;
            border-radius: 0.375rem;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .calc-btn:hover {
            background-color: #4a6741;
        }
        .calc-btn:active {
            transform: scale(0.95);
        }
        .calc-btn.operator {
            background-color: #e74c3c;
        }
        .calc-btn.operator:hover {
            background-color: #c0392b;
        }
        .calc-btn.function {
            background-color: #3498db;
        }
        .calc-btn.function:hover {
            background-color: #2980b9;
        }
        .calc-btn.equals {
            background-color: #27ae60;
        }
        .calc-btn.equals:hover {
            background-color: #229954;
        }
        .calc-btn.clear {
            background-color: #f39c12;
        }
        .calc-btn.clear:hover {
            background-color: #e67e22;
        }
        .calc-btn.span-2 {
            grid-column: span 2;
        }
        .calc-btn.span-3 {
            grid-column: span 3;
        }
        .history {
            background-color: #f8f9fa;
            border-radius: 0.375rem;
            padding: 1rem;
            margin-top: 1rem;
            max-height: 200px;
            overflow-y: auto;
        }
        .history-item {
            padding: 0.25rem 0;
            border-bottom: 1px solid #dee2e6;
            font-family: 'Courier New', monospace;
        }
        .history-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <!-- Header will be loaded dynamically -->
    <div id="header"></div>

    <div class="tool-page">
        <div class="container py-5">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="tool-content">
                        <div class="tool-header">
                            <h1><i class="fas fa-calculator me-3"></i>Scientific Calculator</h1>
                            <p>Advanced scientific calculator with trigonometric, logarithmic, and other functions</p>
                        </div>

                        <!-- Ad Section -->
                        <div class="ad-banner text-center mb-4">
                            <div class="ad-placeholder bg-light border rounded p-3">
                                <p class="text-muted mb-0">Advertisement Space</p>
                                <small class="text-muted">Google AdSense or other ads will be placed here</small>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="calculator">
                                    <div class="calculator-display" id="display">
                                        <span id="displayText">0</span>
                                    </div>
                                    <div class="calculator-buttons">
                                        <!-- Row 1 -->
                                        <button class="calc-btn clear" onclick="clearAll()">C</button>
                                        <button class="calc-btn clear" onclick="clearEntry()">CE</button>
                                        <button class="calc-btn function" onclick="backspace()">⌫</button>
                                        <button class="calc-btn operator" onclick="inputOperator('/')">/</button>
                                        <button class="calc-btn function" onclick="inputFunction('sqrt')">√</button>
                                        
                                        <!-- Row 2 -->
                                        <button class="calc-btn" onclick="inputNumber('7')">7</button>
                                        <button class="calc-btn" onclick="inputNumber('8')">8</button>
                                        <button class="calc-btn" onclick="inputNumber('9')">9</button>
                                        <button class="calc-btn operator" onclick="inputOperator('*')">×</button>
                                        <button class="calc-btn function" onclick="inputFunction('pow')">x²</button>
                                        
                                        <!-- Row 3 -->
                                        <button class="calc-btn" onclick="inputNumber('4')">4</button>
                                        <button class="calc-btn" onclick="inputNumber('5')">5</button>
                                        <button class="calc-btn" onclick="inputNumber('6')">6</button>
                                        <button class="calc-btn operator" onclick="inputOperator('-')">-</button>
                                        <button class="calc-btn function" onclick="inputFunction('sin')">sin</button>
                                        
                                        <!-- Row 4 -->
                                        <button class="calc-btn" onclick="inputNumber('1')">1</button>
                                        <button class="calc-btn" onclick="inputNumber('2')">2</button>
                                        <button class="calc-btn" onclick="inputNumber('3')">3</button>
                                        <button class="calc-btn operator" onclick="inputOperator('+')">+</button>
                                        <button class="calc-btn function" onclick="inputFunction('cos')">cos</button>
                                        
                                        <!-- Row 5 -->
                                        <button class="calc-btn" onclick="inputNumber('0')">0</button>
                                        <button class="calc-btn" onclick="inputNumber('.')">.</button>
                                        <button class="calc-btn function" onclick="inputFunction('tan')">tan</button>
                                        <button class="calc-btn equals" onclick="calculate()">=</button>
                                        <button class="calc-btn function" onclick="inputFunction('log')">log</button>
                                        
                                        <!-- Row 6 -->
                                        <button class="calc-btn function" onclick="inputFunction('ln')">ln</button>
                                        <button class="calc-btn function" onclick="inputFunction('exp')">e^x</button>
                                        <button class="calc-btn function" onclick="inputFunction('pi')">π</button>
                                        <button class="calc-btn function" onclick="inputFunction('e')">e</button>
                                        <button class="calc-btn function" onclick="inputFunction('factorial')">n!</button>
                                        
                                        <!-- Row 7 -->
                                        <button class="calc-btn function" onclick="inputFunction('abs')">|x|</button>
                                        <button class="calc-btn function" onclick="inputFunction('negate')">±</button>
                                        <button class="calc-btn function" onclick="inputFunction('reciprocal')">1/x</button>
                                        <button class="calc-btn function" onclick="inputFunction('pow10')">10^x</button>
                                        <button class="calc-btn function" onclick="inputFunction('pow2')">2^x</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group mb-3">
                                    <label for="angleMode" class="form-label">Angle Mode</label>
                                    <select class="form-select" id="angleMode">
                                        <option value="deg">Degrees</option>
                                        <option value="rad">Radians</option>
                                    </select>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="precision" class="form-label">Decimal Places</label>
                                    <select class="form-select" id="precision">
                                        <option value="2">2</option>
                                        <option value="4" selected>4</option>
                                        <option value="6">6</option>
                                        <option value="8">8</option>
                                    </select>
                                </div>

                                <div class="d-flex gap-2 mb-3">
                                    <button class="btn btn-outline-primary" onclick="copyResult()">
                                        <i class="fas fa-copy me-2"></i>Copy Result
                                    </button>
                                    <button class="btn btn-outline-secondary" onclick="clearHistory()">
                                        <i class="fas fa-trash me-2"></i>Clear History
                                    </button>
                                </div>

                                <div class="history" id="history">
                                    <h6>Calculation History</h6>
                                    <div id="historyItems"></div>
                                </div>
                            </div>
                        </div>

                        <div id="result" class="result-box" style="display: none;"></div>

                        <!-- Ad Section -->
                        <div class="ad-banner text-center mt-4">
                            <div class="ad-placeholder bg-light border rounded p-3">
                                <p class="text-muted mb-0">Advertisement Space</p>
                                <small class="text-muted">Google AdSense or other ads will be placed here</small>
                            </div>
                        </div>

                        <div class="mt-5">
                            <h4>How to Use Scientific Calculator</h4>
                            <ol>
                                <li>Click numbers and operators to build your expression</li>
                                <li>Use scientific functions like sin, cos, log, etc.</li>
                                <li>Select angle mode (degrees or radians) for trigonometric functions</li>
                                <li>Click "=" to calculate the result</li>
                                <li>View calculation history and copy results</li>
                            </ol>

                            <h5 class="mt-4">Calculator Functions</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>Basic Operations</h6>
                                    <ul>
                                        <li>Addition (+), Subtraction (-)</li>
                                        <li>Multiplication (×), Division (/)</li>
                                        <li>Square root (√), Power (x²)</li>
                                        <li>Absolute value (|x|)</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>Scientific Functions</h6>
                                    <ul>
                                        <li>Trigonometric: sin, cos, tan</li>
                                        <li>Logarithmic: log, ln</li>
                                        <li>Exponential: e^x, 10^x, 2^x</li>
                                        <li>Constants: π, e</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer will be loaded dynamically -->
    <div id="footer"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../../assets/js/main.js"></script>
    
    <script>
        // Initialize the tool
        document.addEventListener('DOMContentLoaded', function() {
            initializeScientificCalculator();
        });

        let currentInput = '0';
        let previousInput = '';
        let operator = '';
        let waitingForOperand = false;
        let history = [];

        function initializeScientificCalculator() {
            updateDisplay();
        }

        function updateDisplay() {
            const display = document.getElementById('displayText');
            display.textContent = currentInput;
        }

        function inputNumber(num) {
            if (waitingForOperand) {
                currentInput = num;
                waitingForOperand = false;
            } else {
                currentInput = currentInput === '0' ? num : currentInput + num;
            }
            updateDisplay();
        }

        function inputOperator(op) {
            if (operator && !waitingForOperand) {
                calculate();
            }
            
            previousInput = currentInput;
            operator = op;
            waitingForOperand = true;
        }

        function inputFunction(func) {
            const value = parseFloat(currentInput);
            let result;
            
            switch (func) {
                case 'sqrt':
                    result = Math.sqrt(value);
                    break;
                case 'pow':
                    result = Math.pow(value, 2);
                    break;
                case 'sin':
                    result = Math.sin(getAngleInRadians(value));
                    break;
                case 'cos':
                    result = Math.cos(getAngleInRadians(value));
                    break;
                case 'tan':
                    result = Math.tan(getAngleInRadians(value));
                    break;
                case 'log':
                    result = Math.log10(value);
                    break;
                case 'ln':
                    result = Math.log(value);
                    break;
                case 'exp':
                    result = Math.exp(value);
                    break;
                case 'pi':
                    result = Math.PI;
                    break;
                case 'e':
                    result = Math.E;
                    break;
                case 'factorial':
                    result = factorial(value);
                    break;
                case 'abs':
                    result = Math.abs(value);
                    break;
                case 'negate':
                    result = -value;
                    break;
                case 'reciprocal':
                    result = 1 / value;
                    break;
                case 'pow10':
                    result = Math.pow(10, value);
                    break;
                case 'pow2':
                    result = Math.pow(2, value);
                    break;
                default:
                    return;
            }
            
            if (isNaN(result) || !isFinite(result)) {
                showNotification('Invalid calculation', 'error');
                return;
            }
            
            currentInput = formatNumber(result);
            updateDisplay();
            addToHistory(`${func}(${value}) = ${currentInput}`);
        }

        function getAngleInRadians(angle) {
            const mode = document.getElementById('angleMode').value;
            return mode === 'deg' ? (angle * Math.PI) / 180 : angle;
        }

        function factorial(n) {
            if (n < 0 || n !== Math.floor(n)) {
                throw new Error('Factorial is only defined for non-negative integers');
            }
            if (n === 0 || n === 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) {
                result *= i;
            }
            return result;
        }

        function calculate() {
            if (operator && previousInput && !waitingForOperand) {
                const prev = parseFloat(previousInput);
                const current = parseFloat(currentInput);
                let result;
                
                switch (operator) {
                    case '+':
                        result = prev + current;
                        break;
                    case '-':
                        result = prev - current;
                        break;
                    case '*':
                        result = prev * current;
                        break;
                    case '/':
                        if (current === 0) {
                            showNotification('Cannot divide by zero', 'error');
                            return;
                        }
                        result = prev / current;
                        break;
                    default:
                        return;
                }
                
                if (isNaN(result) || !isFinite(result)) {
                    showNotification('Invalid calculation', 'error');
                    return;
                }
                
                const expression = `${previousInput} ${operator} ${currentInput} = ${formatNumber(result)}`;
                addToHistory(expression);
                
                currentInput = formatNumber(result);
                operator = '';
                previousInput = '';
                waitingForOperand = true;
                updateDisplay();
            }
        }

        function formatNumber(num) {
            const precision = parseInt(document.getElementById('precision').value);
            return parseFloat(num.toFixed(precision));
        }

        function addToHistory(expression) {
            history.unshift(expression);
            if (history.length > 50) {
                history.pop();
            }
            updateHistory();
        }

        function updateHistory() {
            const historyItems = document.getElementById('historyItems');
            historyItems.innerHTML = history.map(item => 
                `<div class="history-item">${item}</div>`
            ).join('');
        }

        function clearAll() {
            currentInput = '0';
            previousInput = '';
            operator = '';
            waitingForOperand = false;
            updateDisplay();
        }

        function clearEntry() {
            currentInput = '0';
            updateDisplay();
        }

        function backspace() {
            if (currentInput.length > 1) {
                currentInput = currentInput.slice(0, -1);
            } else {
                currentInput = '0';
            }
            updateDisplay();
        }

        function copyResult() {
            navigator.clipboard.writeText(currentInput).then(() => {
                showNotification('Result copied to clipboard', 'success');
            }).catch(() => {
                showNotification('Unable to copy result', 'error');
            });
        }

        function clearHistory() {
            history = [];
            updateHistory();
            showNotification('History cleared', 'info');
        }
    </script>
</body>
</html>
