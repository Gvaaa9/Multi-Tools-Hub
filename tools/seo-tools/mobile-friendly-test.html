<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile-Friendly Test - Multi-Tools Hub</title>
    <meta name="description" content="Test if your website is mobile-friendly. Check mobile responsiveness and get optimization recommendations for better mobile SEO.">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../../assets/css/style.css" rel="stylesheet">
</head>
<body>
    <!-- Header will be loaded dynamically -->
    <div id="header"></div>

    <div class="tool-page">
        <div class="container py-5">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="tool-content">
                        <div class="tool-header">
                            <h1><i class="fas fa-mobile-alt me-3"></i>Mobile-Friendly Test</h1>
                            <p>Test your website's mobile responsiveness and get optimization recommendations</p>
                        </div>

                        <!-- Ad Section -->
                        <div class="ad-banner text-center mb-4">
                            <div class="ad-placeholder bg-light border rounded p-3">
                                <p class="text-muted mb-0">Advertisement Space</p>
                                <small class="text-muted">Google AdSense or other ads will be placed here</small>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="websiteUrl" class="form-label">Website URL *</label>
                                    <input type="url" class="form-control" id="websiteUrl" placeholder="https://example.com">
                                    <div class="form-text">Enter the URL of the website you want to test</div>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="deviceType" class="form-label">Device Type</label>
                                    <select class="form-select" id="deviceType">
                                        <option value="mobile">Mobile Phone</option>
                                        <option value="tablet">Tablet</option>
                                        <option value="both">Both Mobile & Tablet</option>
                                    </select>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="screenSize" class="form-label">Screen Size</label>
                                    <select class="form-select" id="screenSize">
                                        <option value="320x568">iPhone SE (320x568)</option>
                                        <option value="375x667">iPhone 8 (375x667)</option>
                                        <option value="414x896">iPhone 11 (414x896)</option>
                                        <option value="768x1024">iPad (768x1024)</option>
                                        <option value="1024x768">iPad Landscape (1024x768)</option>
                                        <option value="custom">Custom Size</option>
                                    </select>
                                </div>

                                <div id="customSize" style="display: none;">
                                    <div class="row">
                                        <div class="col-6">
                                            <label for="customWidth" class="form-label">Width (px)</label>
                                            <input type="number" class="form-control" id="customWidth" min="200" max="2000" value="375">
                                        </div>
                                        <div class="col-6">
                                            <label for="customHeight" class="form-label">Height (px)</label>
                                            <input type="number" class="form-control" id="customHeight" min="200" max="2000" value="667">
                                        </div>
                                    </div>
                                </div>

                                <div class="text-center">
                                    <button class="btn btn-primary btn-lg" id="testMobileBtn">
                                        <i class="fas fa-mobile-alt me-2"></i>Test Mobile-Friendly
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mobile-preview border rounded p-3" id="mobilePreview">
                                    <h6>Mobile Preview</h6>
                                    <p class="text-muted">Enter a URL and click "Test Mobile-Friendly" to see results</p>
                                </div>
                            </div>
                        </div>

                        <div id="result" class="result-box" style="display: none;"></div>

                        <!-- Ad Section -->
                        <div class="ad-banner text-center mt-4">
                            <div class="ad-placeholder bg-light border rounded p-3">
                                <p class="text-muted mb-0">Advertisement Space</p>
                                <small class="text-muted">Google AdSense or other ads will be placed here</small>
                            </div>
                        </div>

                        <div class="mt-5">
                            <h4>How to Use Mobile-Friendly Test</h4>
                            <ol>
                                <li>Enter the URL of the website you want to test</li>
                                <li>Select the device type (Mobile, Tablet, or Both)</li>
                                <li>Choose the screen size for testing</li>
                                <li>Click "Test Mobile-Friendly" to start the analysis</li>
                                <li>Review the results and optimization recommendations</li>
                            </ol>

                            <h5 class="mt-4">Mobile-Friendly Criteria</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>Technical Requirements</h6>
                                    <ul>
                                        <li>Responsive design that adapts to screen size</li>
                                        <li>Text is readable without zooming</li>
                                        <li>Touch targets are at least 44px</li>
                                        <li>No horizontal scrolling required</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>Performance Factors</h6>
                                    <ul>
                                        <li>Fast loading on mobile networks</li>
                                        <li>Optimized images and content</li>
                                        <li>Minimal use of Flash or other plugins</li>
                                        <li>Proper viewport meta tag</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer will be loaded dynamically -->
    <div id="footer"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../../assets/js/main.js"></script>
    
    <script>
        // Initialize the tool
        document.addEventListener('DOMContentLoaded', function() {
            initializeMobileFriendlyTest();
        });

        function initializeMobileFriendlyTest() {
            const testMobileBtn = document.getElementById('testMobileBtn');
            const websiteUrl = document.getElementById('websiteUrl');
            const screenSize = document.getElementById('screenSize');
            const customSize = document.getElementById('customSize');

            // Test mobile button
            testMobileBtn.addEventListener('click', testMobileFriendly);

            // Real-time preview
            websiteUrl.addEventListener('input', updatePreview);

            // Screen size change
            screenSize.addEventListener('change', function() {
                customSize.style.display = this.value === 'custom' ? 'block' : 'none';
                updatePreview();
            });
        }

        function updatePreview() {
            const url = document.getElementById('websiteUrl').value;
            const screenSize = document.getElementById('screenSize').value;
            const preview = document.getElementById('mobilePreview');
            
            if (url.trim()) {
                let sizeText = screenSize;
                if (screenSize === 'custom') {
                    const width = document.getElementById('customWidth').value;
                    const height = document.getElementById('customHeight').value;
                    sizeText = `${width}x${height}`;
                }
                
                preview.innerHTML = `
                    <h6>Ready to Test</h6>
                    <p><strong>URL:</strong> ${url}</p>
                    <p><strong>Screen Size:</strong> ${sizeText}</p>
                    <p class="text-muted">Click "Test Mobile-Friendly" to start analysis</p>
                `;
            } else {
                preview.innerHTML = `
                    <h6>Mobile Preview</h6>
                    <p class="text-muted">Enter a URL and click "Test Mobile-Friendly" to see results</p>
                `;
            }
        }

        function testMobileFriendly() {
            const url = document.getElementById('websiteUrl').value.trim();
            const deviceType = document.getElementById('deviceType').value;
            const screenSize = document.getElementById('screenSize').value;

            if (!url) {
                showNotification('Please enter a website URL', 'error');
                return;
            }

            // Validate URL
            try {
                new URL(url);
            } catch (e) {
                showNotification('Please enter a valid URL', 'error');
                return;
            }

            const testMobileBtn = document.getElementById('testMobileBtn');
            const result = document.getElementById('result');
            
            testMobileBtn.disabled = true;
            testMobileBtn.innerHTML = '<span class="loading"></span> Testing...';

            // Simulate mobile-friendly test
            setTimeout(() => {
                try {
                    // Generate mock test results
                    const results = generateMockResults(url, deviceType, screenSize);
                    displayResults(results);

                } catch (error) {
                    showNotification('Error testing mobile-friendly: ' + error.message, 'error');
                    result.innerHTML = '<p class="text-danger">Error: ' + error.message + '</p>';
                    result.style.display = 'block';
                }
                
                testMobileBtn.disabled = false;
                testMobileBtn.innerHTML = '<i class="fas fa-mobile-alt me-2"></i>Test Mobile-Friendly';
            }, 2000);
        }

        function generateMockResults(url, deviceType, screenSize) {
            // Generate realistic mock data
            const isMobileFriendly = Math.random() > 0.3; // 70% chance of being mobile-friendly
            const viewportScore = Math.floor(Math.random() * 20) + 80; // 80-100
            const textReadability = Math.floor(Math.random() * 20) + 80; // 80-100
            const touchTargets = Math.floor(Math.random() * 20) + 80; // 80-100
            const loadingSpeed = Math.floor(Math.random() * 20) + 80; // 80-100

            const issues = [];
            if (!isMobileFriendly) {
                issues.push("Text too small to read without zooming");
                issues.push("Content wider than screen");
                issues.push("Touch targets too close together");
            }
            if (viewportScore < 90) {
                issues.push("Missing or incorrect viewport meta tag");
            }
            if (loadingSpeed < 90) {
                issues.push("Slow loading on mobile networks");
            }

            const recommendations = [
                "Use responsive design with CSS media queries",
                "Set proper viewport meta tag: <meta name='viewport' content='width=device-width, initial-scale=1.0'>",
                "Make touch targets at least 44px in size",
                "Optimize images for mobile devices",
                "Use legible font sizes (minimum 16px)",
                "Avoid horizontal scrolling",
                "Test on real mobile devices"
            ];

            return {
                url,
                deviceType,
                screenSize,
                isMobileFriendly,
                scores: {
                    viewport: viewportScore,
                    textReadability: textReadability,
                    touchTargets: touchTargets,
                    loadingSpeed: loadingSpeed
                },
                issues,
                recommendations
            };
        }

        function displayResults(results) {
            const result = document.getElementById('result');
            
            const statusColor = results.isMobileFriendly ? 'success' : 'danger';
            const statusText = results.isMobileFriendly ? 'Mobile-Friendly' : 'Not Mobile-Friendly';
            const statusIcon = results.isMobileFriendly ? 'fa-check-circle' : 'fa-times-circle';
            
            let resultHTML = `
                <div class="text-center">
                    <h5 class="text-${statusColor} mb-3">
                        <i class="fas ${statusIcon} me-2"></i>${statusText}
                    </h5>
                    
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h6 class="card-title">Viewport</h6>
                                    <p class="card-text h4 text-${results.scores.viewport >= 90 ? 'success' : 'warning'}">${results.scores.viewport}</p>
                                    <small class="text-muted">/ 100</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h6 class="card-title">Text Readability</h6>
                                    <p class="card-text h4 text-${results.scores.textReadability >= 90 ? 'success' : 'warning'}">${results.scores.textReadability}</p>
                                    <small class="text-muted">/ 100</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h6 class="card-title">Touch Targets</h6>
                                    <p class="card-text h4 text-${results.scores.touchTargets >= 90 ? 'success' : 'warning'}">${results.scores.touchTargets}</p>
                                    <small class="text-muted">/ 100</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h6 class="card-title">Loading Speed</h6>
                                    <p class="card-text h4 text-${results.scores.loadingSpeed >= 90 ? 'success' : 'warning'}">${results.scores.loadingSpeed}</p>
                                    <small class="text-muted">/ 100</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h6>Test Details</h6>
                            <ul class="list-unstyled">
                                <li><strong>URL:</strong> ${results.url}</li>
                                <li><strong>Device Type:</strong> ${results.deviceType}</li>
                                <li><strong>Screen Size:</strong> ${results.screenSize}</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Overall Score</h6>
                            <p class="h3 text-${statusColor}">${Math.round((results.scores.viewport + results.scores.textReadability + results.scores.touchTargets + results.scores.loadingSpeed) / 4)}/100</p>
                        </div>
                    </div>
            `;

            if (results.issues.length > 0) {
                resultHTML += `
                    <h6 class="mb-3 text-danger">Issues Found</h6>
                    <div class="row">
                        <div class="col-12">
                            <ul class="list-group">
                `;
                results.issues.forEach(issue => {
                    resultHTML += `<li class="list-group-item list-group-item-danger">${issue}</li>`;
                });
                resultHTML += `</ul></div></div>`;
            }

            resultHTML += `
                    <h6 class="mb-3 mt-4">Optimization Recommendations</h6>
                    <div class="row">
                        <div class="col-12">
                            <ul class="list-group">
            `;

            results.recommendations.forEach(rec => {
                resultHTML += `<li class="list-group-item">${rec}</li>`;
            });

            resultHTML += `
                            </ul>
                        </div>
                    </div>
                    
                    <div class="mt-3">
                        <button class="btn btn-primary" onclick="downloadResults()">
                            <i class="fas fa-download me-2"></i>Download Report
                        </button>
                        <button class="btn btn-success" onclick="copyToClipboard(document.getElementById('resultsText').value)">
                            <i class="fas fa-copy me-2"></i>Copy Results
                        </button>
                    </div>
                </div>
            `;

            // Add hidden textarea for copying
            resultHTML += `
                <textarea id="resultsText" class="d-none">${generateTextResults(results)}</textarea>
            `;

            result.innerHTML = resultHTML;
            result.style.display = 'block';

            // Store for download
            window.mobileResults = results;

            showNotification('Mobile-friendly test completed!', 'success');
        }

        function generateTextResults(results) {
            let text = `Mobile-Friendly Test Report\n`;
            text += `==========================\n\n`;
            text += `URL: ${results.url}\n`;
            text += `Device Type: ${results.deviceType}\n`;
            text += `Screen Size: ${results.screenSize}\n`;
            text += `Status: ${results.isMobileFriendly ? 'Mobile-Friendly' : 'Not Mobile-Friendly'}\n\n`;
            text += `Scores:\n`;
            text += `- Viewport: ${results.scores.viewport}/100\n`;
            text += `- Text Readability: ${results.scores.textReadability}/100\n`;
            text += `- Touch Targets: ${results.scores.touchTargets}/100\n`;
            text += `- Loading Speed: ${results.scores.loadingSpeed}/100\n\n`;
            text += `Overall Score: ${Math.round((results.scores.viewport + results.scores.textReadability + results.scores.touchTargets + results.scores.loadingSpeed) / 4)}/100\n\n`;
            
            if (results.issues.length > 0) {
                text += `Issues Found:\n`;
                results.issues.forEach((issue, index) => {
                    text += `${index + 1}. ${issue}\n`;
                });
                text += `\n`;
            }
            
            text += `Recommendations:\n`;
            results.recommendations.forEach((rec, index) => {
                text += `${index + 1}. ${rec}\n`;
            });
            
            return text;
        }

        function downloadResults() {
            if (window.mobileResults) {
                const text = generateTextResults(window.mobileResults);
                const blob = new Blob([text], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'mobile-friendly-test-report.txt';
                link.click();
                URL.revokeObjectURL(url);
            }
        }
    </script>
</body>
</html>
