<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Index Checker - Multi-Tools Hub</title>
    <meta name="description" content="Check if your website pages are indexed by Google. Monitor your site's presence in Google search results.">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../../assets/css/style.css" rel="stylesheet">
</head>
<body>
    <!-- Header will be loaded dynamically -->
    <div id="header"></div>

    <div class="tool-page">
        <div class="container py-5">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="tool-content">
                        <div class="tool-header">
                            <h1><i class="fab fa-google me-3"></i>Google Index Checker</h1>
                            <p>Check if your website pages are indexed by Google search engine</p>
                        </div>

                        <!-- Ad Section -->
                        <div class="ad-banner text-center mb-4">
                            <div class="ad-placeholder bg-light border rounded p-3">
                                <p class="text-muted mb-0">Advertisement Space</p>
                                <small class="text-muted">Google AdSense or other ads will be placed here</small>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="websiteUrl" class="form-label">Website URL *</label>
                                    <input type="url" class="form-control" id="websiteUrl" placeholder="https://example.com">
                                    <div class="form-text">Enter the URL you want to check for Google indexing</div>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="checkType" class="form-label">Check Type</label>
                                    <select class="form-select" id="checkType">
                                        <option value="single">Single URL</option>
                                        <option value="domain">Entire Domain</option>
                                        <option value="multiple">Multiple URLs</option>
                                    </select>
                                </div>

                                <div id="multipleUrls" style="display: none;">
                                    <div class="form-group mb-3">
                                        <label for="urls" class="form-label">URLs to Check</label>
                                        <textarea class="form-control" id="urls" rows="5" placeholder="Enter one URL per line:
https://example.com/page1
https://example.com/page2
https://example.com/page3"></textarea>
                                        <div class="form-text">Enter one URL per line</div>
                                    </div>
                                </div>

                                <div class="text-center">
                                    <button class="btn btn-primary btn-lg" id="checkIndexBtn">
                                        <i class="fab fa-google me-2"></i>Check Google Index
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="index-preview border rounded p-3" id="indexPreview">
                                    <h6>Index Check Preview</h6>
                                    <p class="text-muted">Enter a URL and click "Check Google Index" to see results</p>
                                </div>
                            </div>
                        </div>

                        <div id="result" class="result-box" style="display: none;"></div>

                        <!-- Ad Section -->
                        <div class="ad-banner text-center mt-4">
                            <div class="ad-placeholder bg-light border rounded p-3">
                                <p class="text-muted mb-0">Advertisement Space</p>
                                <small class="text-muted">Google AdSense or other ads will be placed here</small>
                            </div>
                        </div>

                        <div class="mt-5">
                            <h4>How to Use Google Index Checker</h4>
                            <ol>
                                <li>Enter the URL you want to check for Google indexing</li>
                                <li>Select the check type (Single URL, Domain, or Multiple URLs)</li>
                                <li>Click "Check Google Index" to start the analysis</li>
                                <li>Review the results to see indexing status</li>
                            </ol>

                            <h5 class="mt-4">Understanding Index Status</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>Indexed Pages</h6>
                                    <ul>
                                        <li><strong>Indexed:</strong> Page appears in Google search results</li>
                                        <li><strong>Not Indexed:</strong> Page not found in Google's index</li>
                                        <li><strong>Partially Indexed:</strong> Some content indexed</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>Common Issues</h6>
                                    <ul>
                                        <li>Pages blocked by robots.txt</li>
                                        <li>Duplicate content issues</li>
                                        <li>Low-quality content</li>
                                        <li>Technical crawling problems</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer will be loaded dynamically -->
    <div id="footer"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../../assets/js/main.js"></script>
    
    <script>
        // Initialize the tool
        document.addEventListener('DOMContentLoaded', function() {
            initializeGoogleIndexChecker();
        });

        function initializeGoogleIndexChecker() {
            const checkIndexBtn = document.getElementById('checkIndexBtn');
            const websiteUrl = document.getElementById('websiteUrl');
            const checkType = document.getElementById('checkType');
            const multipleUrls = document.getElementById('multipleUrls');

            // Check index button
            checkIndexBtn.addEventListener('click', checkGoogleIndex);

            // Real-time preview
            websiteUrl.addEventListener('input', updatePreview);

            // Check type change
            checkType.addEventListener('change', function() {
                multipleUrls.style.display = this.value === 'multiple' ? 'block' : 'none';
                updatePreview();
            });
        }

        function updatePreview() {
            const url = document.getElementById('websiteUrl').value;
            const checkType = document.getElementById('checkType').value;
            const preview = document.getElementById('indexPreview');
            
            if (url.trim()) {
                preview.innerHTML = `
                    <h6>Ready to Check</h6>
                    <p><strong>URL:</strong> ${url}</p>
                    <p><strong>Type:</strong> ${checkType}</p>
                    <p class="text-muted">Click "Check Google Index" to start analysis</p>
                `;
            } else {
                preview.innerHTML = `
                    <h6>Index Check Preview</h6>
                    <p class="text-muted">Enter a URL and click "Check Google Index" to see results</p>
                `;
            }
        }

        function checkGoogleIndex() {
            const url = document.getElementById('websiteUrl').value.trim();
            const checkType = document.getElementById('checkType').value;
            const urls = document.getElementById('urls').value.trim();

            if (!url) {
                showNotification('Please enter a website URL', 'error');
                return;
            }

            // Validate URL
            try {
                new URL(url);
            } catch (e) {
                showNotification('Please enter a valid URL', 'error');
                return;
            }

            if (checkType === 'multiple' && !urls) {
                showNotification('Please enter URLs to check', 'error');
                return;
            }

            const checkIndexBtn = document.getElementById('checkIndexBtn');
            const result = document.getElementById('result');
            
            checkIndexBtn.disabled = true;
            checkIndexBtn.innerHTML = '<span class="loading"></span> Checking...';

            // Simulate Google index check
            setTimeout(() => {
                try {
                    // Generate mock index check results
                    const results = generateMockResults(url, checkType, urls);
                    displayResults(results);

                } catch (error) {
                    showNotification('Error checking Google index: ' + error.message, 'error');
                    result.innerHTML = '<p class="text-danger">Error: ' + error.message + '</p>';
                    result.style.display = 'block';
                }
                
                checkIndexBtn.disabled = false;
                checkIndexBtn.innerHTML = '<i class="fab fa-google me-2"></i>Check Google Index';
            }, 2000);
        }

        function generateMockResults(url, checkType, urls) {
            // Generate realistic mock data
            const isIndexed = Math.random() > 0.2; // 80% chance of being indexed
            const lastCrawled = new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000); // Within last 30 days
            const indexedPages = Math.floor(Math.random() * 100) + 1;
            const totalPages = Math.floor(Math.random() * 200) + 50;
            
            const results = {
                url,
                checkType,
                isIndexed,
                lastCrawled: lastCrawled.toISOString().split('T')[0],
                indexedPages,
                totalPages,
                indexPercentage: Math.round((indexedPages / totalPages) * 100),
                status: isIndexed ? 'Indexed' : 'Not Indexed',
                issues: []
            };

            if (!isIndexed) {
                results.issues.push('Page not found in Google\'s index');
                results.issues.push('May be blocked by robots.txt');
                results.issues.push('Could have duplicate content issues');
            }

            if (results.indexPercentage < 50) {
                results.issues.push('Low indexing percentage');
                results.issues.push('Consider improving content quality');
            }

            if (checkType === 'multiple' && urls) {
                const urlList = urls.split('\n').map(line => line.trim()).filter(line => line);
                results.multipleResults = urlList.map(url => ({
                    url,
                    isIndexed: Math.random() > 0.3,
                    lastCrawled: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]
                }));
            }

            return results;
        }

        function displayResults(results) {
            const result = document.getElementById('result');
            
            const statusColor = results.isIndexed ? 'success' : 'danger';
            const statusIcon = results.isIndexed ? 'fa-check-circle' : 'fa-times-circle';
            
            let resultHTML = `
                <div class="text-center">
                    <h5 class="text-${statusColor} mb-3">
                        <i class="fas ${statusIcon} me-2"></i>${results.status}
                    </h5>
                    
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h6 class="card-title">Index Status</h6>
                                    <p class="card-text h4 text-${statusColor}">${results.status}</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h6 class="card-title">Indexed Pages</h6>
                                    <p class="card-text h4">${results.indexedPages}</p>
                                    <small class="text-muted">of ${results.totalPages}</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h6 class="card-title">Index Percentage</h6>
                                    <p class="card-text h4 text-${results.indexPercentage >= 70 ? 'success' : 'warning'}">${results.indexPercentage}%</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h6 class="card-title">Last Crawled</h6>
                                    <p class="card-text h6">${results.lastCrawled}</p>
                                </div>
                            </div>
                        </div>
                    </div>
            `;

            if (results.multipleResults) {
                resultHTML += `
                    <h6 class="mb-3">Multiple URL Results</h6>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>URL</th>
                                    <th>Status</th>
                                    <th>Last Crawled</th>
                                </tr>
                            </thead>
                            <tbody>
                `;
                
                results.multipleResults.forEach(urlResult => {
                    const urlStatusColor = urlResult.isIndexed ? 'success' : 'danger';
                    const urlStatus = urlResult.isIndexed ? 'Indexed' : 'Not Indexed';
                    resultHTML += `
                        <tr>
                            <td>${urlResult.url}</td>
                            <td><span class="text-${urlStatusColor}">${urlStatus}</span></td>
                            <td>${urlResult.lastCrawled}</td>
                        </tr>
                    `;
                });
                
                resultHTML += `</tbody></table></div>`;
            }

            if (results.issues.length > 0) {
                resultHTML += `
                    <h6 class="mb-3 text-warning">Potential Issues</h6>
                    <div class="row">
                        <div class="col-12">
                            <ul class="list-group">
                `;
                results.issues.forEach(issue => {
                    resultHTML += `<li class="list-group-item list-group-item-warning">${issue}</li>`;
                });
                resultHTML += `</ul></div></div>`;
            }

            resultHTML += `
                    <div class="mt-3">
                        <button class="btn btn-primary" onclick="downloadResults()">
                            <i class="fas fa-download me-2"></i>Download Report
                        </button>
                        <button class="btn btn-success" onclick="copyToClipboard(document.getElementById('resultsText').value)">
                            <i class="fas fa-copy me-2"></i>Copy Results
                        </button>
                    </div>
                </div>
            `;

            // Add hidden textarea for copying
            resultHTML += `
                <textarea id="resultsText" class="d-none">${generateTextResults(results)}</textarea>
            `;

            result.innerHTML = resultHTML;
            result.style.display = 'block';

            // Store for download
            window.indexResults = results;

            showNotification('Google index check completed!', 'success');
        }

        function generateTextResults(results) {
            let text = `Google Index Check Report\n`;
            text += `========================\n\n`;
            text += `URL: ${results.url}\n`;
            text += `Check Type: ${results.checkType}\n`;
            text += `Status: ${results.status}\n`;
            text += `Indexed Pages: ${results.indexedPages} of ${results.totalPages}\n`;
            text += `Index Percentage: ${results.indexPercentage}%\n`;
            text += `Last Crawled: ${results.lastCrawled}\n\n`;
            
            if (results.multipleResults) {
                text += `Multiple URL Results:\n`;
                text += `-------------------\n`;
                results.multipleResults.forEach((urlResult, index) => {
                    text += `${index + 1}. ${urlResult.url} - ${urlResult.isIndexed ? 'Indexed' : 'Not Indexed'} (${urlResult.lastCrawled})\n`;
                });
                text += `\n`;
            }
            
            if (results.issues.length > 0) {
                text += `Issues Found:\n`;
                results.issues.forEach((issue, index) => {
                    text += `${index + 1}. ${issue}\n`;
                });
            }
            
            return text;
        }

        function downloadResults() {
            if (window.indexResults) {
                const text = generateTextResults(window.indexResults);
                const blob = new Blob([text], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'google-index-check-report.txt';
                link.click();
                URL.revokeObjectURL(url);
            }
        }
    </script>
</body>
</html>
